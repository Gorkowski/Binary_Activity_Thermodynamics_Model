function [y1] = NN_VBSBAT_layers20_individProp_v2(x1)
%NN_VBSBAT_LAYERS20 neural network simulation function.
%
% Auto-generated by MATLAB, 27-Jan-2019 16:32:02.
% 
% [y1] = NN_VBSBAT_layers20(x1) takes these arguments:
%   x = 45xQ matrix, input #1
% and returns:
%   y = 11xQ matrix, output #1
% where Q is the number of samples.

%#ok<*RPMT0>

% ===== NEURAL NETWORK CONSTANTS =====

% Input 1
x1_step1.xoffset = [-6.33817041886475;-6.63513287266831;-6.57575838554323;-6.03550099441896;-6.39573144198254;-6.18665514526399;-5.65217679267843;-6.77209600182792;-4.99790665361811;-6.30526338385867;-7.39310643066852;-0.419922916083051;-0.419454349244978;-0.420263133005841;-0.420288667597016;-0.420035388769244;-0.420051633875627;-0.419919121994745;-0.419477906418883;-0.41957193729582;-0.419739267851289;-0.42012920115379;0.0300275273774632;0.0300270482775961;0.030028186544224;0.0300297223553511;0.0300277698480638;0.0300277813999414;0.0300272713490405;0.0300278391238004;0.0300272983480154;0.0300274532359395;0.0300271044847123;9.2914477469108e-07;1.9490474424367e-06;1.79510557548681e-06;1.25100796244913e-06;2.302388253239e-06;2.84851825440821e-06;1.40670412183445e-06;1.98276599322705e-06;1.72359106780187e-06;1.93050547164735e-06;2.07709754585862e-06;5.29688210485268e-05];
x1_step1.gain = [0.240232117695903;0.232633740895384;0.233706019610548;0.250078178146459;0.238932862493527;0.245308667928723;0.262746802531996;0.228546882329868;0.286631085958923;0.242500294765837;0.214265283380174;1.2243765547698;1.23010609256672;1.22551330706334;1.21950080844154;1.22354354052207;1.23278329172514;1.2282027633227;1.22801972091703;1.22349923127039;1.22585792632039;1.22499676504597;13.3242265662454;13.3233578768376;13.3240716967961;13.3240640243663;13.3223161199931;13.3227612716244;13.3224365705742;13.3223557650984;13.3293630618712;13.3229458321336;13.3245912805441;2.12775727613805;2.1350060722438;2.1585360313609;2.14307372098096;2.1648786014605;2.14342472818333;2.13720081223974;2.12048348951872;2.14652839161381;2.14577720834672;2.14860490823241;2.02041740270621];
x1_step1.ymin = -1;

% Layer 1
b1 = [3.0599537543309867083;-3.6595045611444838585;0.84429441959217266245;3.0397791378285443642;2.6541431337298195814;0.85285104174993708881;3.308288639296954603;0.045533046427044358839;-1.2015647517946423939;-0.062631401200103881122;3.310421270866324317;0.4940571369355620801;0.92104932735822808709;-7.9021630452819335844;-4.7482524020237342199;2.8441641767335563706;3.9338201346452708052;1.9053812167639687658;-2.2547095368813794281;-7.1653734132547493019];
IW1_1 = [0.15573643339589279821 0.20134293388623025756 0.19778105182873570445 0.064096863356747482698 0.21831795288012753598 0.20398686698413351359 0.1330427078634588145 0.17578956646274149223 0.18997426150461377281 -0.091597188157399409003 0.10702326920467571114 -0.13579999635735262586 -0.036696086432956805112 -0.1436965330354855741 -0.032595287038833499482 -0.090026275175794701067 0.015864302290234923165 -0.030165473667231271909 -0.068741845370437940077 -0.11997293637899041074 -0.092954704120241274379 -0.12462683825499587531 0.034771397989583258115 0.023765480789939424922 0.045268669074115183704 0.023871597961768558499 0.033826583327816524271 -0.026604105454779602286 0.01143808330718239577 0.85781769484475456355 0.051015638940523612421 -0.010177448145455415471 0.0083665361142302874936 0.14086040914057365581 0.073859986159656790261 0.23408267939884341846 0.039613191892735169497 0.082812307537490026377 0.035718003164555409135 0.010771236653662705565 -0.6334281413306371844 0.17730303218012272159 0.18654005033568973881 0.14874079097333334221 -1.0667867007360245513;0.55635124305326677518 0.39415710468786829823 0.34459312366937089323 0.90498113060370066751 0.47638184505884090258 0.52850765528871879173 0.19254528674298679314 0.50573531511876201883 0.21238037230583545201 0.49756350720553743638 0.22340119432612573491 0.064322196739402093257 0.017292860584514225392 0.0091507238430865722734 0.084111797551778028081 0.043070564540110219121 0.061702196983715561218 0.040431115195187203315 -0.003436990575913454523 -0.20992722342325381701 -0.11141492973978964209 0.003587552924316663068 0.019608005241640427685 0.010802257753595263454 0.018028766016839444658 0.030697614725751696391 0.062990377997994756454 -7.0248936574271962771e-05 0.047065536123483152353 -0.02577359970066497516 0.61336054731839306786 0.15986632429995759064 0.0090093439086480053141 -0.091677330023825207017 0.053449738024192200436 0.14483105847161895086 -0.054880847138376619154 0.14033639631858971231 -0.013685011364214809751 -0.047307252536411610599 0.24248800273334983335 -0.81524947964381466736 -0.0055791642229584366072 0.33670211229694052557 0.1207474419938040916;-0.2341620444982923932 -0.28045627983749993328 -0.22619493652678246409 -0.04123939838129966895 -0.23191407911623565519 1.3778836586423810484 -0.18317537187057530979 0.0098427506383584762589 0.018613457804852184818 -0.050513583924464963704 -0.012257217842661885521 -0.0085654000158202053122 -0.0055156789800697419296 -0.0051457886291042774507 0.016026609247621177723 -0.0043132854615895175124 0.010772866075300908603 -0.031071842882260728574 -0.021281862703764923422 -0.029338501581091892823 -0.033616967636910272121 -0.0065406612257915813097 -0.012875190699562201468 -0.018071989641149158179 -0.012535390389759128171 0.010904747658427365806 -0.015465461398091920331 0.075889906197577919333 -0.016327324055579815754 0.029288610296660803206 -0.042405658432825531212 0.012676803839429231363 -0.002764276569044433942 0.03536771290687264202 -0.028849235758311640027 0.076691259789277391179 -0.043865972404434468157 0.038276036901162865944 0.40242720846104229615 -0.054637655953411017051 0.076031853311012032037 0.25161715441712501073 0.10739368199054601105 0.018731000842212412044 -0.082342097603376837589;-0.14165106076108949229 -0.20672591581259391891 -0.25084424463310356357 -0.16339570888710300278 -0.0086564315887006915151 -0.22376683202670849537 -0.068643769420669811798 -0.063139975248975660493 -0.061311419794343131884 -0.17702014429655274497 0.22076468896113871088 -0.12934422909314749472 -0.12641499665608207925 -0.041611824135881235465 -0.22099830603536835261 -0.17184134689359845116 -0.16734267859387960686 -0.0046273239117003393817 -0.33880307028079031939 0.00078422102146623968652 0.35804332538116417917 0.054651301998791743109 -0.045020894522737303634 0.024198967770957185291 -0.00063740549506001204123 0.053061440771056171684 -0.055617881706630484251 -0.038286345369839137887 -0.0052942561828973984037 -0.044634078699309465144 -0.07865152940475703125 0.052435578267998182722 0.038533982220248418071 0.055115388252728540752 0.068392421552550403119 -0.0488991037699676237 0.23036589979169116993 -0.038849580139820240332 0.18333164112548805402 -0.074770023487261000339 0.31945597082378962561 0.081736780971026726239 -1.0711283710577448325 -0.23805973693011792114 -3.1495112244432892368;0.58390441600840237157 -5.3590185485447419111 0.96123999898907497297 0.8472502248999055352 0.70424906263327435862 0.30001240241543442044 0.42113048035964684157 0.38246452458788671169 0.20862260524096515324 0.28935041148330425953 0.18801702264962127931 -0.017799761800343569945 -0.062097014673057553125 0.052424647731185283761 -0.0035931116449658124894 -0.0093390763345853541888 -0.013528654590508263147 0.027191857128559371315 -0.007803324312126242758 -0.0077127366299969734101 -0.0094953998930745533991 -0.026740193241201554164 0.02950301704831476482 -0.22582601820422790184 0.062180598958005851851 0.036535975274584998884 0.059303297115155861885 0.04256637235611892417 -0.028588103374915439098 -0.056258723443422045674 0.0029641680577594214756 -0.0089838966079182434182 0.013480314254077386052 0.25887099717860662107 -0.87959937716900593596 0.10311092556446727064 0.24105591478198565292 0.24881568482150617783 0.25892391790202973212 0.23578946661284233555 0.16207633345227986932 0.21320214567972614605 -0.034145332576777487343 0.08624642708944013636 -0.067543451490756495348;0.6183589022101312338 0.63306873598854895846 0.67200174289907543823 0.66251270573841047895 0.60956307241929030827 0.60210164844636382409 0.48214044151814811068 0.3542162213212338151 0.25545212011700185739 0.28880816698804945286 0.22475310308779603008 -0.0058605381978813330529 -0.028390375808115483197 0.0089625901445419282193 -0.00023754813978571422302 0.030616824591424413732 0.012662604462331732841 0.101247895163552315 0.010492883404820269044 0.012902694036225004909 0.021520584970059802171 0.016240417393504961302 0.060500670768328726479 0.068384163686863883025 0.057124832054761494338 0.05831632301819231895 0.056245355247136009924 0.071611953111096360303 -0.53738155131450326962 -0.0052952284534598832721 0.012289849441151516618 -0.01491465828148995712 -0.011361291802677865939 0.25381957887445238953 0.27523401010569825687 0.28619761588985820344 0.37376228587752297061 0.13672078761526842983 0.19856212427869193715 0.57808306798426845052 0.16364274003321385709 -0.10102558338466322008 -0.08672255419746700833 -0.036207737971352890738 0.20380811560805170424;-0.66694764111050519606 -0.63396335823736915671 -0.77811893574125323703 -0.45744096045569182518 -0.5973417292369195275 -0.44405688147870020499 -0.57411633947920381882 -0.76799593451440806291 -0.45483481221044907983 -0.29757793343201399683 -0.22474746588561902993 0.0019534830601022918489 -0.042852764148293975843 0.013986578352126908739 0.0044870002948377615132 0.034183633411217786979 0.0044707649510868380932 -0.0043690419826228022934 -0.019461762588278218311 -0.10050634274413616787 -0.39535022562427502013 0.015790403928287965324 -0.025803011538495613381 -0.047766600452201136984 -0.019214696624204517794 -0.017997284128732617126 -0.016783837191360721774 -0.026300794031876718881 -0.036803884885112859993 0.026124166846984191864 0.066076266175987219409 1.5862522329091379714 -0.0046577753751544468536 -0.18345822326532165714 0.0382210162761040112 -0.23891737681744940058 -0.094646163276361924832 -0.2992821459459010236 -0.044146143029138440461 -0.18393026472740151012 -0.15259767579381303126 0.10595398458178646728 -1.2908659042929342409 -0.13878620203458885696 -0.51907215290740993385;0.35546858884584975335 0.24398677710410116015 0.36554502451564208076 0.40563061505363029458 0.30644455162595318765 0.53951716688691986334 0.30885633046743277141 0.22252802724718601102 0.14787440365407292231 0.10870594471212104148 0.15990031565259937851 -0.035634088094632511423 -0.034472162762117362911 0.050669999514732354251 0.036125988253393082061 0.025316165776783357971 0.028505401113193357121 -0.01259561418478571948 -0.067985803516554893511 -0.041681615913167290033 0.013480482090495527966 -0.0053419384766236130413 0.05620487237451879392 0.053927980864919233817 0.05653734747756505169 0.039642319239174626799 0.053663076602959831896 0.054544774915070808052 0.032738480187366102159 0.025586935907832002168 -0.38025714938707150248 -0.066486799349397426862 -0.020895691060062105554 0.33367549814612201819 0.34529071753380941034 0.17174614722192491079 0.23191162741415255466 0.19602617340606912077 0.29167120610900171274 0.34170693250706557498 0.32939385897429934724 0.90268164540539030938 0.13436019397674320297 0.11428325320224613781 0.1205478299762971911;-0.18581576372278515996 -0.5518452886803044688 -0.048721438810583259094 -0.009495874345039480996 0.05918535957453752161 -0.34990489434902688481 -0.21780957830026104194 -0.023748382819779659259 -0.075580339094051415816 -0.26608734242220138944 -0.21543842746050240189 0.24912474198559178551 0.10151299862888708836 -0.067572844033417317489 0.065123066183905661819 0.25618133751037869272 0.15632997032656467673 -0.036818915552258288382 0.20995633029703295036 -0.97165962915676651335 0.17311335710131084409 0.047156782353443539579 0.00516686478898194506 -0.05282360581004486022 0.04221101350423991927 0.048218258135440367207 0.09146179926033407015 0.069929132760942813718 -0.038733550986479042821 0.02539122815413135531 0.50424344475110516317 -0.075705440468565796119 -0.0067874293919911263956 -0.18914261960338468738 -0.094394156698274223061 0.23068286617001493299 0.045188995893263368686 -0.30785280291634503635 -0.19548590974001958664 -0.076315068947406972111 -0.081576985010601107962 1.2793658968393497588 -0.089292591621696768001 -0.12310315350665936018 1.102160463554783032;-0.54904027517053266561 -0.50588853458821392284 -0.55762471697684212746 -0.55354643114333024201 -0.53493450847463308584 -0.5247119680799746666 -0.431321930158029887 -0.4098798216292505181 -0.21767771750714276502 -0.18260858715802655294 -0.23571634849303166326 -0.0014340960796719159215 -0.0073351321693956340886 -0.0014844157520816001188 0.0094310694529585563373 -0.0049105786685842900061 -0.0060106076217971539724 -0.020348238826363860415 -0.064837661339284244355 -0.010735997736726210147 -0.025529979334086915638 0.0017020845882395464581 -0.049955740185377926765 -0.050504578953697809585 -0.045120228628231041912 -0.050111873988330120355 -0.051817241699289764978 -0.049331638676045425074 -0.046223549675959374472 0.58516901880575544759 -0.0073729048223758683611 0.0068259854455042373589 -0.0053378114850120596258 -0.14782764527801212084 -0.15300053578244954267 -0.25097317392845908124 -0.23743944764682631265 -0.2048357068395842695 -0.16542390340795853909 -0.18412150954480818732 -0.86740208427351117582 -0.092521892982340120382 0.028281124628756589695 -0.043880267114271245821 -0.15317186959526690737;0.16502866441922581231 0.40823838494431574642 0.5089788612682861757 0.090885992446359767372 0.41365298063315236732 0.28143060109209622199 0.38687501770763621511 0.41837509196796385247 0.17879742616251478871 0.0062603401977864943026 -0.16401713493319883264 -0.094654460351223240755 -0.14152015313003674102 -0.13749461695102099812 0.014217583732987634781 -0.14564912470194793515 -0.051394534443795471257 -0.34786690501919836915 0.20519579447359417856 -0.09892542829568580498 -0.17652796652131833022 -0.16673944353529687734 0.025624102251569899624 0.107254058058302848 0.033837654858347075704 0.003725748319277636094 0.074858012644976032468 0.04837891777660177639 1.1315062330127605428 0.070597960752808538998 0.024393687830379460341 -0.0083669649701200322217 -0.0076737868439814655927 0.15683771301439183854 0.28007630085093659922 0.30490372520739822404 0.19574721271544218149 0.20655970586683189416 0.23539719048888371744 -0.46349378173487887356 -0.489018868894716352 0.017556594127749489825 0.2699828756276196895 0.22452799135964743305 -1.283760522829981543;-0.55699607912762527651 -0.48793047737552647236 -0.60282934489817729951 -0.52317525498219963342 -0.52218771086869852915 -0.53913354487241405 -0.43858612300152088892 -0.47613287690620187398 -0.29009111119472802409 -0.17967830317631539039 -0.21197274194347226484 0.028089938243822332176 -0.002803005766039503438 0.0046233501742268369797 0.014018195799924823217 0.0034926763568476049647 0.008336795330583613578 -0.0080668388825045414525 -0.0036988680190359929552 -0.086753551645554788374 -0.0094738066854056068172 0.0019976917577434120769 -0.049445634655001173552 -0.045824991251073185494 -0.051872884396419974284 -0.045354629676516031167 -0.042759936404682424849 -0.047287434419058117785 -0.03203041859116637774 -0.017630793382570588562 0.89022281455276930373 0.040194250410315990329 0.0021551759588678900958 -0.32817695502335575419 -0.19246624698985254076 -0.25578975478812954192 -0.28533057885534046649 -0.17764224501057121475 -0.29084608464175620846 -0.24233208029143474271 -0.18324525124450727342 -1.2286695070537303476 -0.13998057065001026644 -0.050205564249959012957 -0.047994112571023810065;-0.35671445843134841347 -0.23749671479822831444 -0.38157367930787888799 -0.11031390290452790237 -0.37981408349976286676 1.7596417213165984617 -0.15565344304961561961 0.014212655993248838465 0.041313104016651086559 -0.057787686545420970108 0.0086470307696990666296 -0.013417497189738863961 0.00039277577464099652305 -0.012252520715307520932 0.017059314949995223881 -0.0081041723495945804795 0.012940133187316221058 -0.028704606915068514583 -0.010667294029632908015 -0.026196210634828315938 -0.040148275250842538342 -0.003588719922254323888 -0.024672323712853608951 -0.017513079818081488809 -0.024295692725360879677 0.010046473901460165404 -0.028549026611305244189 0.093719039288129246668 -0.010820145908018892478 0.021264338926683015729 -0.053216716229217551903 0.014539741500348479786 -0.0031467876651221082795 0.006915840509859277549 -0.055864731493538329066 0.076693516445707710094 -0.086294163065852275141 -0.0080121617987810901662 0.48353106771151027621 -0.10562604375157946812 0.046642156847717088086 0.26521186217454434386 0.11155787138666524438 0.025269843605009504467 -0.085532483369712808408;0.6271775067252484126 0.53319932698386751646 0.4744064532654229116 0.27678729940067586801 0.41368569289755813267 0.40690240853987408309 0.37602322240935120989 0.47058629817336850021 0.27751239351848738801 0.33640589390829267469 0.39625797727256345526 0.074788123056594046911 0.13103911728019343452 0.05753348443187436545 0.071218439400080366108 0.091739950299670497413 0.089965720081369687788 0.058871910567881595433 0.087211804844594550956 0.11902687163048543406 0.070681973208137266473 0.96479504957694117717 0.0068820996230873690558 0.041887061353167234778 0.0036510648009626931777 0.021253609712500572126 0.049089047629746182522 0.0066276242586948254723 0.018747777670745171402 -0.0018203535285166811894 -0.001612527031739368396 -0.0039275913792248505485 -4.8484037360035756592 -0.02701825772384464433 -0.11364908594084188742 0.075714349636449559955 -0.031625750858421675105 -0.072661807473120648693 0.012619721392909320073 -0.044623321930787523959 0.04814011105762112247 -0.11579448149962240366 -0.02071183845262303258 2.0893479542460426934 2.0753830163867834635;0.33244651175598405324 0.34828596727999194815 0.25924839280708261713 0.34093812545351953602 0.31400406235977729175 0.16806899291056065504 0.24238653752440372791 0.35089676406102671136 0.29501020639961511582 0.18260831823855452893 0.36519828199711451555 0.034003938743458507477 0.022961482659612800217 0.14830548836354306985 0.1814710375131232678 0.077862082054930420449 0.22832985458172061488 0.056308394720073748352 0.13027486228603854523 1.1606936802327267877 0.13711096165191344332 0.16508897599089694674 -0.011394893419866705328 0.0015798658854089999825 -0.015422957057968686434 -0.032336986975316908688 0.010173439109485165124 -0.065763847110185888467 -0.048654397156735675056 -0.052620296990255693848 -3.7011318836234301521 -0.0015427577272569992662 -0.06869817446834354524 0.041050823076120339372 0.20127565309138298333 -0.17625645019727737006 -0.10074441452354655768 0.097446453919642780916 -0.28452396948135938448 0.04290069320974836814 -0.14999509696443821816 2.3854257369015465784 -0.11150679998678643401 -0.17349905411580035519 2.4076169825751776443;0.69462394889516232421 0.63198388198248600656 0.78369088268124897922 0.66257987976817522835 0.76615045191102615352 0.54716626349760133508 0.27736217561077669558 0.19745461144589299129 0.18704583455323139929 0.29213854421397650318 0.24073066969890602462 -0.025654689254783136915 -0.0074608278515206887666 -0.0032624277760810033167 0.019305293596437910625 0.021358207571466041735 0.025380257642058121764 -0.0077889050928347499173 0.0091745693247400773168 0.0096289649308305517994 0.0083211683663437438496 -0.0053975552843436545858 0.054899630778589392222 0.06268672208173763083 0.091539672355644849389 0.047956271634896678602 0.091233486819718129235 -0.52035062936891285368 0.015845215460532694612 0.009211146013170915664 -0.0037112230434429203073 0.00078843163732410280822 0.0051678432881665540763 0.31534256241259339681 0.41313945134632917844 0.48805070330503164122 0.20204680105318637007 0.25427330982981105612 1.3986748172055096795 0.038776336045807012487 0.17900479219466974845 0.019538989788819811216 -0.17762711471898046112 -0.030011752842869762747 0.091183399188641461874;0.74170913999760335056 0.65868671469942485786 0.84066746094179856108 0.56600477427457807078 0.77790941719787742858 0.34211382547958180123 0.15739530719558411653 0.18599648622164610678 0.2020004396252162715 0.20374950570867933486 0.1507752137939611381 0.050210906441927348476 -0.056856896550588925665 0.026215786360100960806 -0.024087675031459507974 0.049429983604885686932 0.054688233123445978423 -0.03110899554389933569 0.00053632477588125217378 0.0098106285669332469329 -0.019906393203084203625 -0.014179145511802484711 0.098134701447173677824 0.12382841527458204878 0.092850218697412043034 0.091860990965368788386 -0.36847903842509982519 -0.012957284864963100612 -0.039272188288684221902 -0.0018302082733488687655 -0.021200665627389880113 -0.049079312677322475822 0.0078889900279503592795 0.30052488129539406403 0.69421637228730215252 0.12804507266753339945 0.34729006763901376642 0.98017176254882543152 0.38285579472009517721 0.25322591160465468541 0.32766586841051364987 0.0075545107687318294523 -0.21636615138548503934 -0.1701148410989944959 0.080680574194151033485;0.14135132564814212319 0.29696508889485428995 0.14105095923646607248 0.023387824213297159215 0.11797854266728853567 0.18695325975745363811 0.10056801297566031472 0.14566439440668452199 0.16692792654786639539 -0.027452371877774540271 0.086487495815114362463 -0.12105002677074114259 -0.020842037933917766795 -0.10896127916551023862 -0.00038574813275828878515 -0.069512872127335506578 -0.019367196496136478839 -0.0060573800922999491633 0.18386937814743845032 -0.071735400776510860332 -0.10664576002525205656 -0.087942197907988267636 0.00068172063796645703156 0.0053704160443737982908 0.017321213578432994445 0.0028869035525309954746 0.0025991577390083718015 -0.054484224757684752982 0.0066523607836116603262 0.062627068916714739855 0.025300327419898245573 -0.013432476294186385807 0.0023384863955531604018 0.11855147730825370267 -0.007669905541496781741 0.096526755192990129628 -0.030113511729989366622 -0.027692554863436025236 0.040961776828745938284 -0.054661367671847593819 -0.49135915414649772304 0.052434664237049018187 0.2194537138952959987 0.13824644838570648853 -0.71364348074391426024;-0.58821788583042511345 -0.56785775972886443075 -0.80442677084654645725 -0.66427174137331734816 -0.87606029295050014127 -0.53011219847727808485 5.0684792981433437475 -0.3249354490348625446 -0.18757090076802723777 -0.1778931814758277774 -0.23716268623566369445 0.019734706738736680631 0.035406013429900323741 0.00061896385327019499533 -0.069228945006883771396 -0.024125463986004042072 -0.010104858842547708234 0.1051969763657600726 -0.0047816289007678505069 0.021632253725013959184 -0.022080491670127051773 0.062806306101255093832 -0.025924396499982099717 -0.038972611934997992977 -0.0012402386260218169114 -0.034553520005160168194 -0.032574501269786185209 -0.033386902667214085616 0.20634945992034392503 0.050583503550608997779 -0.021653489932066654483 0.002963967456480779035 -0.00046583907276882537216 -0.096170496926833756723 -0.17615846275824706413 -0.0021745645969101041681 0.012917085334861041698 -0.23067327261355993762 -0.33274038867006622278 0.76847563942137064874 -0.27762378762336425986 -0.2893306496184697707 -0.15427884440587613657 -0.037824909113974167219 0.12492908450442900825;0.33163264369456796343 0.43439736934588263351 0.31079067847961761029 0.47694085496060212304 0.30083620085833440161 0.48267094495651458042 0.17563421892554589854 0.12671483959348800452 0.27567660296926721486 0.50529693712363421554 0.27150115188354845275 0.12676194634516652071 0.12766841939124862204 0.080351746812382510154 0.088334114390058421362 0.1069475495282334182 0.11237626020174908137 0.068229579699699033357 0.25286496956239096212 0.14998310608529377697 1.1658104368556345687 0.053232356082716279777 0.0035170412159205169736 -0.079659308225374647616 0.016041727711618970764 0.014148197150479982151 0.0036546320457929376904 -0.017789410917869511591 -0.062875620672835003111 0.035666002541923910729 -0.026245192983764570327 -5.2026026827630786897 -0.011619359428946530316 -0.10171836664537982353 0.0092229741119643719044 -0.090408183558447166583 -0.029437175760822352488 -0.052107367289134766397 0.032518184722721561741 -0.095401846329437045569 -0.23101369799377680092 -0.17045353509248842294 2.6012283507158602269 -0.031599438003356537796 2.506314800286621125];

% Layer 2
b2 = [-0.53750717985019169642;-0.42885148294414848769;0.73042866585444232719;0.48451150472494142196;-0.13012154251745727818;-0.29819729913165821111;-0.17810585467214407052;1.2917801165713991285;0.63046643727369910959;-0.11057500427138861054;-0.2373437858158259639];
LW2_1 = [-0.76855827171988266855 -0.16877523064058089219 -0.98710206788895848984 -0.63086723072890293906 -0.45876845725769394013 0.13559357605114616407 -0.37446781642775450738 -0.86533003324793666966 0.18435518287060539966 -0.40523993091840004865 0.80700926262700212188 -0.58299440073665909079 0.6225853375794334621 -0.17277933495993041957 -0.21644241593005239532 0.43951591716864607529 0.92296587635535554117 -0.70926356048968919321 -0.77467564122318133268 -0.61936617588684916846;0.65353424064370924107 0.18108695421198747755 -0.095734651296487019434 0.34104322363586614397 0.19935194837521513778 -0.11781198535184364551 0.099024598125754245692 0.106139178549247995 0.31388972722076319277 0.084186322276793179586 -0.61858447972953700678 -0.059892914952599546341 0.12813590957457882125 0.11490242158253892446 0.0045447538014094434819 0.29135846584408070514 0.62661222034235819489 0.58638130916027220163 -0.23426307611878555148 0.093914193529199288535;0.077348894378499608027 0.00054623089309087185204 -0.0026263623805945091744 0.00018484956201590311371 -0.0019230918325923045988 -0.00781845936281895873 -0.00032068065742171033162 -0.0010336557889517752982 -0.0042164906468513544194 -0.00059307924161073103352 0.024630033556550613716 -0.00055745675446122679338 0.0015509848619172541921 0.00020877090255963081517 -0.0001653801581581340694 0.00090237780914093252988 0.28701586339256651703 -0.11626712339744076086 -0.00013940969714236098971 9.1045012493621161665e-05;0.027641167868482845876 0.00019960429243977815834 0.046123585305222473962 0.0014420465952145577592 -0.0067271385941784578658 -0.017859907063826816614 0.00056320424867424730142 -0.0021118325063721548294 0.0018641675100272935266 -0.00067257410724793026489 0.026302564693598994711 -0.00040989079920751510288 -0.039022632913271022848 -0.00034839539504251192765 0.00036982864565217598045 0.031206302133539198795 0.42544307403026826453 0.035841121547263252167 0.0042965544426721274246 0.00028068787388879829804;-0.032207952703802583683 -0.00045477222784945549186 0.064822782492283417821 0.0025606863320517432581 -0.013595512789871783133 0.00037865968733059521137 -0.00026744907963289766802 -0.002791062966710665047 -0.00011077153273467107476 0.00028118837433439218369 0.010284864623809624948 0.00093312434054356168528 -0.051512076289269563556 -0.00010164449723771457632 0.00029057363582476677683 -0.016786918521359665141 1.1024333447425815891 0.091106269603947409585 0.013105177939590088865 -0.00011598178365861681232;-0.054476768615318943434 -0.004988090993179544394 0.30627034203355152364 0.0069400302333355624873 -0.051461421497187992413 -0.0086590674977509544952 -0.0016112511715902758016 -0.015570183335043941836 -0.010111978260014071671 -0.0071139385374299479725 -0.13719489272818607972 0.0014970789842409942556 -0.25404044381786616835 0.00010136252086104480209 0.00074915200293935492199 0.93245497557913670228 0.070384978963253810869 0.58337811475213241508 0.050371974115828457852 -0.00067286239930630783665;-0.18577149959227615139 0.00021674455202670933444 1.149344943369829064 0.030068832950180843927 -0.14717419900509179365 0.90233225532436045491 -0.015971024878161085847 -0.090272810788022031514 -0.02855392032822593254 -0.029699048240918481806 -1.4628753635129789767 -0.02085974087844909633 -0.95239761982846271593 0.0024189521096403343928 0.005185148287706694073 0.069084024631220208867 -0.019303883558700041939 2.1281905978731741058 0.15881039601506713455 -0.0052868959016508310436;-6.30192374270397071 0.032573549199109319563 2.5725637728492083411 0.096747198063107067711 -0.32811602780203830143 0.040384870601919073407 -0.038546833531491159208 -0.25041302497440220964 0.041522679226617835446 -0.92089458905254029109 -0.03239506071293379863 -0.062931436572524007689 -2.1233226940409668515 0.0066877279390570509507 0.020745899892441320433 -0.025916948492938889775 -0.083121630377468544437 5.9047328180788305474 0.36246058057680252684 -0.01028731562038087341;-0.42552994688718398519 0.37829532563979423321 2.1411326331713591564 0.091289972924717383007 -0.28735609704585768354 -0.032583638699723922738 -0.037392949077313442086 -0.53516976359526691187 -0.47949571379224220635 -0.055510427698280330466 -0.025734677522819167372 -0.93762815058766380005 -1.7627962060012007939 -0.00082444901989783597653 0.34948292798408547855 -0.013942961898011153529 -0.03486334484451581589 0.34656352878181861943 0.34486456215864058628 0.011993716056060813729;-0.37093614734796265253 0.1948466987833809283 0.81477314460052219225 0.24157067771903753539 -0.11474384302960345672 -0.018769589914754167964 -0.45977189503281901128 0.11614433751971438291 0.019057477079891711053 0.0076870695990920367632 -0.021557679069266869748 0.0029126614040239349503 -0.67686244449881793894 0.010047673052398004359 -0.0052504676432524937865 -0.0034668648464985882957 -0.0078122967100910907859 0.91748397882614773913 0.14138233987011020187 0.52292208500050785247;-0.19559074894865538519 0.083799193904648627829 0.16703574925738332024 0.063871367605165985104 -0.02982927226468987808 -0.010142563173451040262 -0.013422302806985732249 0.099284239235850405003 0.015647215596176874269 0.0132042399970158323 -0.058583524502563676106 0.024877574075883802235 -0.14441423473283460099 0.95125092526594168252 0.0021252400701771362659 0.0057613791585261866016 0.0011937158142931907426 0.65126302245395528701 0.043597172886849021312 -0.00052881097758154696313];

% Output 1
y1_step1.ymin = -1;
y1_step1.gain = [4002.64391279828;612.565923684103;32.3293032203095;6.55516025857446;2.29708575275272;2.02882210074061;2.00315572332172;2.00029627544215;2.00003235199449;2.00002138112587;2.00017228400408];
y1_step1.xoffset = [0.999500330270797;0.996735045286212;0.938136619079156;0.694896856655271;0.12933158997169;0.0142063219922371;0.00157537172279605;0.000148096989961389;1.48612545330238e-05;2.56978039767672e-06;2.76895133509899e-07];

% ===== SIMULATION ========

% Dimensions
Q = size(x1,2); % samples

% Input 1
xp1 = mapminmax_apply(x1,x1_step1);

% Layer 1
a1 = tansig_apply(repmat(b1,1,Q) + IW1_1*xp1);

% Layer 2
a2 = repmat(b2,1,Q) + LW2_1*a1;

% Output 1
y1 = mapminmax_reverse(a2,y1_step1);
end

% ===== MODULE FUNCTIONS ========

% Map Minimum and Maximum Input Processing Function
function y = mapminmax_apply(x,settings)
  y = bsxfun(@minus,x,settings.xoffset);
  y = bsxfun(@times,y,settings.gain);
  y = bsxfun(@plus,y,settings.ymin);
end

% Sigmoid Symmetric Transfer Function
function a = tansig_apply(n,~)
  a = 2 ./ (1 + exp(-2*n)) - 1;
end

% Map Minimum and Maximum Output Reverse-Processing Function
function x = mapminmax_reverse(y,settings)
  x = bsxfun(@minus,y,settings.ymin);
  x = bsxfun(@rdivide,x,settings.gain);
  x = bsxfun(@plus,x,settings.xoffset);
end
